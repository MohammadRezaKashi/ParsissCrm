{{template "base" .}}

{{define "css"}}
<link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" type="text/css">
<link href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css">
{{end}}

{{define "page-title"}}
Statistical Report
{{end}}

{{define "content"}}
<div class="col-md=12" style="margin: 30px;">
    {{$pa := index .Data "patients"}}
    <table class="table table-striped table-hover" id="all-rep">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Family</th>
                <th>National ID</th>
                <th>Phone Number</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {{range $pa}}
            <tr>
                <td>{{.ID}}</td>
                <td>{{.Name}}</td>
                <td>{{.Family}}</td>
                <td>{{.NationalID}}</td>
                <td>{{.PhoneNumber}}</td>
                <td><a href="/report/detail/{{.ID}}/show">Detail</a></td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}

{{define "js"}}
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {
            $('#all-rep').DataTable({
                lengthMenu: [
                    [15, 25, 50, -1],
                    [15, 25, 50, 'All'],
                ],
            });
        });
</script>
{{end}}